{"remainingRequest":"/Users/frank/Desktop/travel/node_modules/babel-loader/lib/index.js!/Users/frank/Desktop/travel/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/frank/Desktop/travel/node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!/Users/frank/Desktop/travel/src/pages/city/components/Alphabet.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/frank/Desktop/travel/src/pages/city/components/Alphabet.vue","mtime":1591108335664},{"path":"/Users/frank/Desktop/travel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frank/Desktop/travel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/frank/Desktop/travel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frank/Desktop/travel/node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gaW1wb3J0IEJTY3JvbGwgZnJvbSAnYmV0dGVyLXNjcm9sbCcKaW1wb3J0IHsgY29tcHV0ZWQsIHJlZiwgb25VcGRhdGVkIH0gZnJvbSAndnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDaXR5QWxwaGFiZXQnLAogIHByb3BzOiB7CiAgICBsaXN0OiBPYmplY3QKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChwcm9wcywgY29udGV4dCkgewogICAgdmFyIHRvdWNoU3RhdHVzID0gZmFsc2U7CiAgICB2YXIgc3RhcnRZID0gJyc7CiAgICB2YXIgdGltbWVyID0gbnVsbDsKICAgIHZhciBlbGVtcyA9IHJlZihbXSk7CiAgICB2YXIgbGV0dGVycyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGxldHRlcnMgPSBbXTsKCiAgICAgIGZvciAodmFyIGkgaW4gcHJvcHMubGlzdCkgewogICAgICAgIGxldHRlcnMucHVzaChpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGxldHRlcnM7CiAgICB9KTsKICAgIG9uVXBkYXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHN0YXJ0WSA9IGVsZW1zLnZhbHVlWydBJ10ub2Zmc2V0VG9wOwogICAgfSk7CgogICAgZnVuY3Rpb24gaGFuZGxlQ2xpY2soZSkgewogICAgICBjb250ZXh0LmVtaXQoJ2NoYW5nZScsIGUudGFyZ2V0LmlubmVyVGV4dCk7CiAgICB9CgogICAgZnVuY3Rpb24gaGFuZGxlVG91Y2hTdGFydCgpIHsKICAgICAgdG91Y2hTdGF0dXMgPSB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIGhhbmRsZVRvdWNoTW92ZShlKSB7CiAgICAgIGlmICh0b3VjaFN0YXR1cykgewogICAgICAgIGlmICh0aW1tZXIpIHsKICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1tZXIpOwogICAgICAgICAgdGltbWVyID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIHRpbW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIHRvdWNoWSA9IGUudG91Y2hlc1swXS5jbGllbnRZIC0gNjM7CiAgICAgICAgICB2YXIgaW5kZXggPSBNYXRoLmZsb29yKCh0b3VjaFkgLSBzdGFydFkpIC8gMjApOwoKICAgICAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgbGV0dGVycy52YWx1ZS5sZW5ndGgpIHsKICAgICAgICAgICAgY29udGV4dC5lbWl0KCdjaGFuZ2UnLCBsZXR0ZXJzLnZhbHVlW2luZGV4XSk7CiAgICAgICAgICB9CiAgICAgICAgfSwgOCk7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBoYW5kbGVUb3VjaEVuZCgpIHsKICAgICAgdGhpcy50b3VjaFN0YXR1cyA9IGZhbHNlOwogICAgfQoKICAgIHJldHVybiB7CiAgICAgIGVsZW1zOiBlbGVtcywKICAgICAgbGV0dGVyczogbGV0dGVycywKICAgICAgaGFuZGxlQ2xpY2s6IGhhbmRsZUNsaWNrLAogICAgICBoYW5kbGVUb3VjaFN0YXJ0OiBoYW5kbGVUb3VjaFN0YXJ0LAogICAgICBoYW5kbGVUb3VjaE1vdmU6IGhhbmRsZVRvdWNoTW92ZSwKICAgICAgaGFuZGxlVG91Y2hFbmQ6IGhhbmRsZVRvdWNoRW5kCiAgICB9OwogIH0KfTs="},{"version":3,"sources":["/Users/frank/Desktop/travel/src/pages/city/components/Alphabet.vue"],"names":[],"mappings":"AAWA;AACA,SAAQ,QAAR,EAAkB,GAAlB,EAAuB,SAAvB,QAAuC,KAAvC;AACA,eAAe;AACb,EAAA,IAAI,EAAE,cADO;AAEb,EAAA,KAAK,EAAE;AACL,IAAA,IAAI,EAAE;AADD,GAFM;AAKb,EAAA,KALa,iBAKP,KALO,EAKA,OALA,EAKS;AACpB,QAAI,WAAU,GAAI,KAAlB;AACA,QAAI,MAAK,GAAG,EAAZ;AACA,QAAI,MAAK,GAAI,IAAb;AACA,QAAM,KAAI,GAAI,GAAG,CAAC,EAAD,CAAjB;AACA,QAAM,OAAM,GAAI,QAAQ,CAAC,YAAK;AAC5B,UAAM,OAAM,GAAI,EAAhB;;AACA,WAAK,IAAI,CAAT,IAAc,KAAK,CAAC,IAApB,EAA0B;AACxB,QAAA,OAAO,CAAC,IAAR,CAAa,CAAb;AACF;;AACA,aAAO,OAAP;AACD,KANuB,CAAxB;AAOA,IAAA,SAAS,CAAC,YAAM;AACd,MAAA,MAAK,GAAI,KAAK,CAAC,KAAN,CAAY,GAAZ,EAAiB,SAA1B;AACD,KAFQ,CAAT;;AAIA,aAAS,WAAT,CAAsB,CAAtB,EAAyB;AACvB,MAAA,OAAO,CAAC,IAAR,CAAa,QAAb,EAAuB,CAAC,CAAC,MAAF,CAAS,SAAhC;AACF;;AACA,aAAS,gBAAT,GAA6B;AAC3B,MAAA,WAAU,GAAI,IAAd;AACF;;AACA,aAAS,eAAT,CAA0B,CAA1B,EAA6B;AAC3B,UAAI,WAAJ,EAAiB;AACf,YAAI,MAAJ,EAAY;AACV,UAAA,YAAY,CAAC,MAAD,CAAZ;AACA,UAAA,MAAK,GAAI,IAAT;AACF;;AACA,QAAA,MAAK,GAAI,UAAU,CAAC,YAAM;AACxB,cAAM,MAAK,GAAI,CAAC,CAAC,OAAF,CAAU,CAAV,EAAa,OAAb,GAAuB,EAAtC;AACA,cAAM,KAAI,GAAI,IAAI,CAAC,KAAL,CAAW,CAAC,MAAK,GAAI,MAAV,IAAoB,EAA/B,CAAd;;AACA,cAAI,KAAI,IAAK,CAAT,IAAc,KAAI,GAAI,OAAO,CAAC,KAAR,CAAc,MAAxC,EAAgD;AAC9C,YAAA,OAAO,CAAC,IAAR,CAAa,QAAb,EAAuB,OAAO,CAAC,KAAR,CAAc,KAAd,CAAvB;AACF;AACD,SANkB,EAMhB,CANgB,CAAnB;AAOF;AACF;;AACA,aAAS,cAAT,GAA2B;AACzB,WAAK,WAAL,GAAmB,KAAnB;AACF;;AACA,WAAO;AAAC,MAAA,KAAK,EAAL,KAAD;AAAQ,MAAA,OAAO,EAAP,OAAR;AAAiB,MAAA,WAAW,EAAX,WAAjB;AAA8B,MAAA,gBAAgB,EAAhB,gBAA9B;AAAgD,MAAA,eAAe,EAAf,eAAhD;AAAiE,MAAA,cAAc,EAAd;AAAjE,KAAP;AACF;AA9Ca,CAAf","sourcesContent":["<template>\n  <ul class=\"list\">\n      <li class=\"item\" v-for=\"item of letters\" :key=\"item\" :ref=\"elem => elems[item] = elem\"\n      @click=\"handleClick\"\n      @touchstart.prevent=\"handleTouchStart\"\n      @touchmove=\"handleTouchMove\"\n      @touchend=\"handleTouchEnd\">{{item}}</li>\n  </ul>\n</template>\n\n<script>\n// import BScroll from 'better-scroll'\nimport {computed, ref, onUpdated} from 'vue'\nexport default {\n  name: 'CityAlphabet',\n  props: {\n    list: Object\n  },\n  setup(props, context) {\n    let touchStatus = false\n    let startY =''\n    let timmer = null\n    const elems = ref([])\n    const letters = computed(() =>{\n      const letters = []\n      for (let i in props.list) {\n        letters.push(i)\n      }\n      return letters\n    })\n    onUpdated(() => {\n      startY = elems.value['A'].offsetTop \n    })\n\n    function handleClick (e) {\n      context.emit('change', e.target.innerText)\n    } \n    function handleTouchStart () {\n      touchStatus = true\n    }\n    function handleTouchMove (e) {\n      if (touchStatus) {\n        if (timmer) {\n          clearTimeout(timmer)\n          timmer = null\n        }\n        timmer = setTimeout(() => {\n          const touchY = e.touches[0].clientY - 63\n          const index = Math.floor((touchY - startY) / 20)\n          if (index >= 0 && index < letters.value.length) {\n            context.emit('change', letters.value[index])\n          }\n        }, 8)\n      }\n    }\n    function handleTouchEnd () {\n      this.touchStatus = false\n    }\n    return {elems, letters, handleClick, handleTouchStart, handleTouchMove, handleTouchEnd}\n  }\n}\n</script>\n\n<style scoped>\n.list{\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    position: absolute;\n    top: 1.26rem;\n    right: 0;\n    bottom: 0;\n    width: .4rem;\n}\n.item{\n  text-align: center;\n  line-height: .4rem;\n  color: #00bcd4;\n}\n</style>\n"],"sourceRoot":""}]}