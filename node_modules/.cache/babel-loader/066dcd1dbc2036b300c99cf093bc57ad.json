{"remainingRequest":"/Users/frank/Desktop/travel/node_modules/babel-loader/lib/index.js!/Users/frank/Desktop/travel/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/frank/Desktop/travel/node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!/Users/frank/Desktop/travel/src/pages/city/City.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/frank/Desktop/travel/src/pages/city/City.vue","mtime":1591105766920},{"path":"/Users/frank/Desktop/travel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frank/Desktop/travel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/frank/Desktop/travel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frank/Desktop/travel/node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2ZyYW5rL0Rlc2t0b3AvdHJhdmVsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IENpdHlIZWFkZXIgZnJvbSAnLi9jb21wb25lbnRzL0hlYWRlci52dWUnOwppbXBvcnQgQ2l0eVNlYXJjaCBmcm9tICcuL2NvbXBvbmVudHMvU2VhcmNoLnZ1ZSc7CmltcG9ydCBDaXR5TGlzdCBmcm9tICcuL2NvbXBvbmVudHMvTGlzdC52dWUnOwppbXBvcnQgQ2l0eUFscGhhYmV0IGZyb20gJy4vY29tcG9uZW50cy9BbHBoYWJldC52dWUnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgeyBvbk1vdW50ZWQgfSBmcm9tICd2dWUnOwppbXBvcnQgeyByZWFjdGl2ZSwgcmVmIH0gZnJvbSAndnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDaXR5JywKICBjb21wb25lbnRzOiB7CiAgICBDaXR5SGVhZGVyOiBDaXR5SGVhZGVyLAogICAgQ2l0eVNlYXJjaDogQ2l0eVNlYXJjaCwKICAgIENpdHlMaXN0OiBDaXR5TGlzdCwKICAgIENpdHlBbHBoYWJldDogQ2l0eUFscGhhYmV0CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgX3VzZUxldHRlckxvZ2ljID0gdXNlTGV0dGVyTG9naWMoKSwKICAgICAgICBsZXR0ZXIgPSBfdXNlTGV0dGVyTG9naWMubGV0dGVyLAogICAgICAgIGhhbmRsZUxldHRlckNoYW5nZSA9IF91c2VMZXR0ZXJMb2dpYy5oYW5kbGVMZXR0ZXJDaGFuZ2U7CgogICAgdmFyIF91c2VDaXR5TG9naWMgPSB1c2VDaXR5TG9naWMoKSwKICAgICAgICBkYXRhID0gX3VzZUNpdHlMb2dpYy5kYXRhOwoKICAgIHJldHVybiB7CiAgICAgIGRhdGE6IGRhdGEsCiAgICAgIGxldHRlcjogbGV0dGVyLAogICAgICBoYW5kbGVMZXR0ZXJDaGFuZ2U6IGhhbmRsZUxldHRlckNoYW5nZQogICAgfTsKICB9Cn07CgpmdW5jdGlvbiB1c2VMZXR0ZXJMb2dpYygpIHsKICB2YXIgbGV0dGVyID0gcmVmKCcnKTsKCiAgZnVuY3Rpb24gaGFuZGxlTGV0dGVyQ2hhbmdlKHNlbGVjdGVkKSB7CiAgICBsZXR0ZXIudmFsdWUgPSBzZWxlY3RlZDsKICB9CgogIHJldHVybiB7CiAgICBsZXR0ZXI6IGxldHRlciwKICAgIGhhbmRsZUxldHRlckNoYW5nZTogaGFuZGxlTGV0dGVyQ2hhbmdlCiAgfTsKfQoKZnVuY3Rpb24gdXNlQ2l0eUxvZ2ljKCkgewogIHZhciBkYXRhID0gcmVhY3RpdmUoewogICAgSG90Y2l0eTogW10sCiAgICBDaXRpZXM6IHt9CiAgfSk7CgogIGZ1bmN0aW9uIGdldENpdHlpbmZvKCkgewogICAgcmV0dXJuIF9nZXRDaXR5aW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KCiAgZnVuY3Rpb24gX2dldENpdHlpbmZvKCkgewogICAgX2dldENpdHlpbmZvID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgcmVzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgnL2FwaS9jaXR5Lmpzb24nKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAocmVzLmRhdGEucmV0ICYmIHJlcy5kYXRhLmRhdGEpIHsKICAgICAgICAgICAgICAgIGRhdGEuSG90Y2l0eSA9IHJlcy5kYXRhLmRhdGEuaG90Q2l0aWVzOwogICAgICAgICAgICAgICAgZGF0YS5DaXRpZXMgPSByZXMuZGF0YS5kYXRhLmNpdGllczsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpOwogICAgcmV0dXJuIF9nZXRDaXR5aW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KCiAgb25Nb3VudGVkKGZ1bmN0aW9uICgpIHsKICAgIGdldENpdHlpbmZvKCk7CiAgfSk7CiAgcmV0dXJuIHsKICAgIGRhdGE6IGRhdGEKICB9Owp9"},{"version":3,"sources":["/Users/frank/Desktop/travel/src/pages/city/City.vue"],"names":[],"mappings":";;AAWA,OAAO,UAAP,MAAuB,yBAAvB;AACA,OAAO,UAAP,MAAuB,yBAAvB;AACA,OAAO,QAAP,MAAqB,uBAArB;AACA,OAAO,YAAP,MAAyB,2BAAzB;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAQ,SAAR,QAAwB,KAAxB;AACA,SAAQ,QAAR,EAAkB,GAAlB,QAA4B,KAA5B;AACA,eAAe;AACb,EAAA,IAAI,EAAE,MADO;AAEb,EAAA,UAAU,EAAE;AACV,IAAA,UAAU,EAAV,UADU;AAEV,IAAA,UAAU,EAAV,UAFU;AAGV,IAAA,QAAQ,EAAR,QAHU;AAIV,IAAA,YAAW,EAAX;AAJU,GAFC;AAQb,EAAA,KARa,mBAQL;AAAA,0BAC+B,cAAc,EAD7C;AAAA,QACC,MADD,mBACC,MADD;AAAA,QACS,kBADT,mBACS,kBADT;;AAAA,wBAES,YAAY,EAFrB;AAAA,QAEC,IAFD,iBAEC,IAFD;;AAGN,WAAO;AAAC,MAAA,IAAI,EAAJ,IAAD;AAAO,MAAA,MAAM,EAAN,MAAP;AAAe,MAAA,kBAAkB,EAAlB;AAAf,KAAP;AACF;AAZa,CAAf;;AAeA,SAAS,cAAT,GAA0B;AACtB,MAAM,MAAK,GAAI,GAAG,CAAC,EAAD,CAAlB;;AACA,WAAS,kBAAT,CAA6B,QAA7B,EAAuC;AACrC,IAAA,MAAM,CAAC,KAAP,GAAe,QAAf;AACF;;AACA,SAAO;AAAC,IAAA,MAAM,EAAN,MAAD;AAAS,IAAA,kBAAkB,EAAlB;AAAT,GAAP;AACF;;AAEF,SAAS,YAAT,GAAwB;AACtB,MAAM,IAAG,GAAI,QAAQ,CAAC;AAClB,IAAA,OAAO,EAAE,EADS;AAElB,IAAA,MAAM,EAAE;AAFU,GAAD,CAArB;;AADsB,WAKP,WALO;AAAA;AAAA;;AAAA;AAAA,2EAKtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACoB,KAAK,CAAC,GAAN,CAAU,gBAAV,CADpB;;AAAA;AACQ,cAAA,GADR;;AAEI,kBAAI,GAAG,CAAC,IAAJ,CAAS,GAAT,IAAgB,GAAG,CAAC,IAAJ,CAAS,IAA7B,EAAmC;AACjC,gBAAA,IAAI,CAAC,OAAL,GAAe,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,SAA7B;AACA,gBAAA,IAAI,CAAC,MAAL,GAAc,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,MAA5B;AACF;;AALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KALsB;AAAA;AAAA;;AAYtB,EAAA,SAAS,CAAC,YAAM;AAAE,IAAA,WAAW;AAAI,GAAxB,CAAT;AACA,SAAO;AAAC,IAAA,IAAI,EAAJ;AAAD,GAAP;AACF","sourcesContent":["<template>\n    <div>\n        <CityHeader></CityHeader>\n        <CitySearch :cities=\"data.Cities\"></CitySearch>\n        <CityList :list1=\"data.Hotcity\" :list2=\"data.Cities\" :letter=\"letter\"></CityList>\n        <CityAlphabet :list=\"data.Cities\"\n        @change=\"handleLetterChange\"></CityAlphabet>\n    </div>\n</template>\n\n<script>\nimport CityHeader from './components/Header.vue'\nimport CitySearch from './components/Search.vue'\nimport CityList from './components/List.vue'\nimport CityAlphabet from './components/Alphabet.vue'\nimport axios from 'axios'\nimport {onMounted} from 'vue'\nimport {reactive, ref} from 'vue'\nexport default {\n  name: 'City',\n  components: {\n    CityHeader,\n    CitySearch,\n    CityList,\n    CityAlphabet\n  },\n  setup() {\n    const {letter, handleLetterChange} = useLetterLogic()\n    const {data} = useCityLogic()\n    return {data, letter, handleLetterChange}\n  }\n}\n\nfunction useLetterLogic() {\n    const letter = ref('')\n    function handleLetterChange (selected) {\n      letter.value = selected\n    }\n    return {letter, handleLetterChange}\n  }\n\nfunction useCityLogic() {\n  const data = reactive({\n      Hotcity: [],\n      Cities: {},\n  })\n  async function getCityinfo () {\n      let res = await axios.get('/api/city.json')\n      if (res.data.ret && res.data.data) {\n        data.Hotcity = res.data.data.hotCities\n        data.Cities = res.data.data.cities\n      }\n  }\n  onMounted(() => { getCityinfo() })\n  return {data}\n}\n</script>\n\n<style scoped>\n</style>\n"],"sourceRoot":""}]}