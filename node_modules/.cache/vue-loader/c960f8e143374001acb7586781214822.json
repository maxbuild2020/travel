{"remainingRequest":"/Users/frank/Desktop/travel/node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!/Users/frank/Desktop/travel/src/pages/city/components/Alphabet.vue?vue&type=style&index=0&id=10e44bd6&scoped=true&lang=css","dependencies":[{"path":"/Users/frank/Desktop/travel/src/pages/city/components/Alphabet.vue","mtime":1591108335664},{"path":"/Users/frank/Desktop/travel/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frank/Desktop/travel/node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js","mtime":499162500000},{"path":"/Users/frank/Desktop/travel/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/frank/Desktop/travel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frank/Desktop/travel/node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5saXN0ewogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogMS4yNnJlbTsKICAgIHJpZ2h0OiAwOwogICAgYm90dG9tOiAwOwogICAgd2lkdGg6IC40cmVtOwp9Ci5pdGVtewogIHRleHQtYWxpZ246IGNlbnRlcjsKICBsaW5lLWhlaWdodDogLjRyZW07CiAgY29sb3I6ICMwMGJjZDQ7Cn0K"},{"version":3,"sources":["/Users/frank/Desktop/travel/src/pages/city/components/Alphabet.vue"],"names":[],"mappings":";AAgEA,CAAC,CAAC,CAAC,CAAC,CAAC;IACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACvB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACZ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACT,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AAChB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC;EACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAChB","file":"/Users/frank/Desktop/travel/src/pages/city/components/Alphabet.vue","sourceRoot":"","sourcesContent":["<template>\n  <ul class=\"list\">\n      <li class=\"item\" v-for=\"item of letters\" :key=\"item\" :ref=\"elem => elems[item] = elem\"\n      @click=\"handleClick\"\n      @touchstart.prevent=\"handleTouchStart\"\n      @touchmove=\"handleTouchMove\"\n      @touchend=\"handleTouchEnd\">{{item}}</li>\n  </ul>\n</template>\n\n<script>\n// import BScroll from 'better-scroll'\nimport {computed, ref, onUpdated} from 'vue'\nexport default {\n  name: 'CityAlphabet',\n  props: {\n    list: Object\n  },\n  setup(props, context) {\n    let touchStatus = false\n    let startY =''\n    let timmer = null\n    const elems = ref([])\n    const letters = computed(() =>{\n      const letters = []\n      for (let i in props.list) {\n        letters.push(i)\n      }\n      return letters\n    })\n    onUpdated(() => {\n      startY = elems.value['A'].offsetTop \n    })\n\n    function handleClick (e) {\n      context.emit('change', e.target.innerText)\n    } \n    function handleTouchStart () {\n      touchStatus = true\n    }\n    function handleTouchMove (e) {\n      if (touchStatus) {\n        if (timmer) {\n          clearTimeout(timmer)\n          timmer = null\n        }\n        timmer = setTimeout(() => {\n          const touchY = e.touches[0].clientY - 63\n          const index = Math.floor((touchY - startY) / 20)\n          if (index >= 0 && index < letters.value.length) {\n            context.emit('change', letters.value[index])\n          }\n        }, 8)\n      }\n    }\n    function handleTouchEnd () {\n      this.touchStatus = false\n    }\n    return {elems, letters, handleClick, handleTouchStart, handleTouchMove, handleTouchEnd}\n  }\n}\n</script>\n\n<style scoped>\n.list{\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    position: absolute;\n    top: 1.26rem;\n    right: 0;\n    bottom: 0;\n    width: .4rem;\n}\n.item{\n  text-align: center;\n  line-height: .4rem;\n  color: #00bcd4;\n}\n</style>\n"]}]}