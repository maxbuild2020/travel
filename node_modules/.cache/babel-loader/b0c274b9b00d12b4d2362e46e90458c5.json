{"remainingRequest":"/Users/frank/Desktop/project-demo/travel/node_modules/babel-loader/lib/index.js!/Users/frank/Desktop/project-demo/travel/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/frank/Desktop/project-demo/travel/node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!/Users/frank/Desktop/project-demo/travel/src/pages/city/City.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/frank/Desktop/project-demo/travel/src/pages/city/City.vue","mtime":1594437933763},{"path":"/Users/frank/Desktop/project-demo/travel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frank/Desktop/project-demo/travel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/frank/Desktop/project-demo/travel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frank/Desktop/project-demo/travel/node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2ZyYW5rL0Rlc2t0b3AvcHJvamVjdC1kZW1vL3RyYXZlbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBDaXR5SGVhZGVyIGZyb20gJy4vY29tcG9uZW50cy9IZWFkZXIudnVlJzsKaW1wb3J0IENpdHlTZWFyY2ggZnJvbSAnLi9jb21wb25lbnRzL1NlYXJjaC52dWUnOwppbXBvcnQgQ2l0eUxpc3QgZnJvbSAnLi9jb21wb25lbnRzL0xpc3QudnVlJzsKaW1wb3J0IENpdHlBbHBoYWJldCBmcm9tICcuL2NvbXBvbmVudHMvQWxwaGFiZXQudnVlJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgb25Nb3VudGVkIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgcmVhY3RpdmUsIHJlZiB9IGZyb20gJ3Z1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ2l0eScsCiAgY29tcG9uZW50czogewogICAgQ2l0eUhlYWRlcjogQ2l0eUhlYWRlciwKICAgIENpdHlTZWFyY2g6IENpdHlTZWFyY2gsCiAgICBDaXR5TGlzdDogQ2l0eUxpc3QsCiAgICBDaXR5QWxwaGFiZXQ6IENpdHlBbHBoYWJldAogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIF91c2VMZXR0ZXJMb2dpYyA9IHVzZUxldHRlckxvZ2ljKCksCiAgICAgICAgbGV0dGVyID0gX3VzZUxldHRlckxvZ2ljLmxldHRlciwKICAgICAgICBoYW5kbGVMZXR0ZXJDaGFuZ2UgPSBfdXNlTGV0dGVyTG9naWMuaGFuZGxlTGV0dGVyQ2hhbmdlOwoKICAgIHZhciBfdXNlQ2l0eUxvZ2ljID0gdXNlQ2l0eUxvZ2ljKCksCiAgICAgICAgZGF0YSA9IF91c2VDaXR5TG9naWMuZGF0YTsKCiAgICByZXR1cm4gewogICAgICBkYXRhOiBkYXRhLAogICAgICBsZXR0ZXI6IGxldHRlciwKICAgICAgaGFuZGxlTGV0dGVyQ2hhbmdlOiBoYW5kbGVMZXR0ZXJDaGFuZ2UKICAgIH07CiAgfQp9OwoKZnVuY3Rpb24gdXNlTGV0dGVyTG9naWMoKSB7CiAgdmFyIGxldHRlciA9IHJlZignJyk7CgogIGZ1bmN0aW9uIGhhbmRsZUxldHRlckNoYW5nZShzZWxlY3RlZCkgewogICAgbGV0dGVyLnZhbHVlID0gc2VsZWN0ZWQ7CiAgfQoKICByZXR1cm4gewogICAgbGV0dGVyOiBsZXR0ZXIsCiAgICBoYW5kbGVMZXR0ZXJDaGFuZ2U6IGhhbmRsZUxldHRlckNoYW5nZQogIH07Cn0KCmZ1bmN0aW9uIHVzZUNpdHlMb2dpYygpIHsKICB2YXIgZGF0YSA9IHJlYWN0aXZlKHsKICAgIEhvdGNpdHk6IFtdLAogICAgQ2l0aWVzOiB7fQogIH0pOwoKICBmdW5jdGlvbiBnZXRDaXR5aW5mbygpIHsKICAgIHJldHVybiBfZ2V0Q2l0eWluZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CgogIGZ1bmN0aW9uIF9nZXRDaXR5aW5mbygpIHsKICAgIF9nZXRDaXR5aW5mbyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHJlczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGkvY2l0eS5qc29uJyk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnJldCAmJiByZXMuZGF0YS5kYXRhKSB7CiAgICAgICAgICAgICAgICBkYXRhLkhvdGNpdHkgPSByZXMuZGF0YS5kYXRhLmhvdENpdGllczsKICAgICAgICAgICAgICAgIGRhdGEuQ2l0aWVzID0gcmVzLmRhdGEuZGF0YS5jaXRpZXM7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKTsKICAgIHJldHVybiBfZ2V0Q2l0eWluZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CgogIG9uTW91bnRlZChmdW5jdGlvbiAoKSB7CiAgICBnZXRDaXR5aW5mbygpOwogIH0pOwogIHJldHVybiB7CiAgICBkYXRhOiBkYXRhCiAgfTsKfQ=="},{"version":3,"sources":["/Users/frank/Desktop/project-demo/travel/src/pages/city/City.vue"],"names":[],"mappings":";;AAWA,OAAO,UAAP,MAAuB,yBAAvB;AACA,OAAO,UAAP,MAAuB,yBAAvB;AACA,OAAO,QAAP,MAAqB,uBAArB;AACA,OAAO,YAAP,MAAyB,2BAAzB;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAQ,SAAR,QAAwB,KAAxB;AACA,SAAQ,QAAR,EAAkB,GAAlB,QAA4B,KAA5B;AACA,eAAe;AACb,EAAA,IAAI,EAAE,MADO;AAEb,EAAA,UAAU,EAAE;AACV,IAAA,UAAU,EAAV,UADU;AAEV,IAAA,UAAU,EAAV,UAFU;AAGV,IAAA,QAAQ,EAAR,QAHU;AAIV,IAAA,YAAW,EAAX;AAJU,GAFC;AAQb,EAAA,KARa,mBAQL;AAAA,0BAC+B,cAAc,EAD7C;AAAA,QACC,MADD,mBACC,MADD;AAAA,QACS,kBADT,mBACS,kBADT;;AAAA,wBAES,YAAY,EAFrB;AAAA,QAEC,IAFD,iBAEC,IAFD;;AAGN,WAAO;AAAC,MAAA,IAAI,EAAJ,IAAD;AAAO,MAAA,MAAM,EAAN,MAAP;AAAe,MAAA,kBAAkB,EAAlB;AAAf,KAAP;AACF;AAZa,CAAf;;AAeA,SAAS,cAAT,GAA0B;AACtB,MAAM,MAAK,GAAI,GAAG,CAAC,EAAD,CAAlB;;AACA,WAAS,kBAAT,CAA6B,QAA7B,EAAuC;AACrC,IAAA,MAAM,CAAC,KAAP,GAAe,QAAf;AACF;;AACA,SAAO;AAAC,IAAA,MAAM,EAAN,MAAD;AAAS,IAAA,kBAAkB,EAAlB;AAAT,GAAP;AACF;;AAEF,SAAS,YAAT,GAAwB;AACtB,MAAM,IAAG,GAAI,QAAQ,CAAC;AAClB,IAAA,OAAO,EAAE,EADS;AAElB,IAAA,MAAM,EAAE;AAFU,GAAD,CAArB;;AADsB,WAKP,WALO;AAAA;AAAA;;AAAA;AAAA,2EAKtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACoB,KAAK,CAAC,GAAN,CAAU,qCAAV,CADpB;;AAAA;AACQ,cAAA,GADR;;AAEI,kBAAI,GAAG,CAAC,IAAJ,CAAS,GAAT,IAAgB,GAAG,CAAC,IAAJ,CAAS,IAA7B,EAAmC;AACjC,gBAAA,IAAI,CAAC,OAAL,GAAe,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,SAA7B;AACA,gBAAA,IAAI,CAAC,MAAL,GAAc,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,MAA5B;AACF;;AALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KALsB;AAAA;AAAA;;AAYtB,EAAA,SAAS,CAAC,YAAM;AAAE,IAAA,WAAW;AAAI,GAAxB,CAAT;AACA,SAAO;AAAC,IAAA,IAAI,EAAJ;AAAD,GAAP;AACF","sourcesContent":["<template>\n    <div>\n        <CityHeader></CityHeader>\n        <CitySearch :cities=\"data.Cities\"></CitySearch>\n        <CityList :list1=\"data.Hotcity\" :list2=\"data.Cities\" :letter=\"letter\"></CityList>\n        <CityAlphabet :list=\"data.Cities\"\n        @change=\"handleLetterChange\"></CityAlphabet>\n    </div>\n</template>\n\n<script>\nimport CityHeader from './components/Header.vue'\nimport CitySearch from './components/Search.vue'\nimport CityList from './components/List.vue'\nimport CityAlphabet from './components/Alphabet.vue'\nimport axios from 'axios'\nimport {onMounted} from 'vue'\nimport {reactive, ref} from 'vue'\nexport default {\n  name: 'City',\n  components: {\n    CityHeader,\n    CitySearch,\n    CityList,\n    CityAlphabet\n  },\n  setup() {\n    const {letter, handleLetterChange} = useLetterLogic()\n    const {data} = useCityLogic()\n    return {data, letter, handleLetterChange}\n  }\n}\n\nfunction useLetterLogic() {\n    const letter = ref('')\n    function handleLetterChange (selected) {\n      letter.value = selected\n    }\n    return {letter, handleLetterChange}\n  }\n\nfunction useCityLogic() {\n  const data = reactive({\n      Hotcity: [],\n      Cities: {},\n  })\n  async function getCityinfo () {\n      let res = await axios.get('http://localhost:8080/api/city.json')\n      if (res.data.ret && res.data.data) {\n        data.Hotcity = res.data.data.hotCities\n        data.Cities = res.data.data.cities\n      }\n  }\n  onMounted(() => { getCityinfo() })\n  return {data}\n}\n</script>\n\n<style scoped>\n</style>\n"],"sourceRoot":""}]}