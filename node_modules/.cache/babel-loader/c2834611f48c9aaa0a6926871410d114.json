{"remainingRequest":"/Users/frank/Documents/GitHub/travel-vue3/node_modules/thread-loader/dist/cjs.js!/Users/frank/Documents/GitHub/travel-vue3/node_modules/babel-loader/lib/index.js!/Users/frank/Documents/GitHub/travel-vue3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/frank/Documents/GitHub/travel-vue3/node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!/Users/frank/Documents/GitHub/travel-vue3/src/pages/city/components/Alphabet.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/frank/Documents/GitHub/travel-vue3/src/pages/city/components/Alphabet.vue","mtime":1594473395061},{"path":"/Users/frank/Documents/GitHub/travel-vue3/node_modules/cache-loader/dist/cjs.js","mtime":1594473392680},{"path":"/Users/frank/Documents/GitHub/travel-vue3/node_modules/thread-loader/dist/cjs.js","mtime":1594473394786},{"path":"/Users/frank/Documents/GitHub/travel-vue3/node_modules/babel-loader/lib/index.js","mtime":1594473392373},{"path":"/Users/frank/Documents/GitHub/travel-vue3/node_modules/cache-loader/dist/cjs.js","mtime":1594473392680},{"path":"/Users/frank/Documents/GitHub/travel-vue3/node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js","mtime":1594473394874}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycyI7Ci8vIGltcG9ydCBCU2Nyb2xsIGZyb20gJ2JldHRlci1zY3JvbGwnCmltcG9ydCB7IGNvbXB1dGVkLCByZWYsIG9uVXBkYXRlZCB9IGZyb20gJ3Z1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ2l0eUFscGhhYmV0JywKICBwcm9wczogewogICAgbGlzdDogT2JqZWN0CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMsIGNvbnRleHQpIHsKICAgIHZhciB0b3VjaFN0YXR1cyA9IGZhbHNlOwogICAgdmFyIHN0YXJ0WSA9ICcnOwogICAgdmFyIHRpbW1lciA9IG51bGw7CiAgICB2YXIgZWxlbXMgPSByZWYoW10pOwogICAgdmFyIGxldHRlcnMgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBsZXR0ZXJzID0gW107CgogICAgICBmb3IgKHZhciBpIGluIHByb3BzLmxpc3QpIHsKICAgICAgICBsZXR0ZXJzLnB1c2goaSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBsZXR0ZXJzOwogICAgfSk7CiAgICBvblVwZGF0ZWQoZnVuY3Rpb24gKCkgewogICAgICBzdGFydFkgPSBlbGVtcy52YWx1ZVsnQSddLm9mZnNldFRvcDsKICAgIH0pOwoKICAgIGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGUpIHsKICAgICAgY29udGV4dC5lbWl0KCdjaGFuZ2UnLCBlLnRhcmdldC5pbm5lclRleHQpOwogICAgfQoKICAgIGZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnQoKSB7CiAgICAgIHRvdWNoU3RhdHVzID0gdHJ1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmUoZSkgewogICAgICBpZiAodG91Y2hTdGF0dXMpIHsKICAgICAgICBpZiAodGltbWVyKSB7CiAgICAgICAgICBjbGVhclRpbWVvdXQodGltbWVyKTsKICAgICAgICAgIHRpbW1lciA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICB0aW1tZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciB0b3VjaFkgPSBlLnRvdWNoZXNbMF0uY2xpZW50WSAtIDYzOwogICAgICAgICAgdmFyIGluZGV4ID0gTWF0aC5mbG9vcigodG91Y2hZIC0gc3RhcnRZKSAvIDIwKTsKCiAgICAgICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IGxldHRlcnMudmFsdWUubGVuZ3RoKSB7CiAgICAgICAgICAgIGNvbnRleHQuZW1pdCgnY2hhbmdlJywgbGV0dGVycy52YWx1ZVtpbmRleF0pOwogICAgICAgICAgfQogICAgICAgIH0sIDgpOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gaGFuZGxlVG91Y2hFbmQoKSB7CiAgICAgIHRoaXMudG91Y2hTdGF0dXMgPSBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gewogICAgICBlbGVtczogZWxlbXMsCiAgICAgIGxldHRlcnM6IGxldHRlcnMsCiAgICAgIGhhbmRsZUNsaWNrOiBoYW5kbGVDbGljaywKICAgICAgaGFuZGxlVG91Y2hTdGFydDogaGFuZGxlVG91Y2hTdGFydCwKICAgICAgaGFuZGxlVG91Y2hNb3ZlOiBoYW5kbGVUb3VjaE1vdmUsCiAgICAgIGhhbmRsZVRvdWNoRW5kOiBoYW5kbGVUb3VjaEVuZAogICAgfTsKICB9Cn07"},{"version":3,"sources":["/Users/frank/Documents/GitHub/travel-vue3/src/pages/city/components/Alphabet.vue"],"names":[],"mappings":";AAWA;AACA,SAAQ,QAAR,EAAkB,GAAlB,EAAuB,SAAvB,QAAuC,KAAvC;AACA,eAAe;AACb,EAAA,IAAI,EAAE,cADO;AAEb,EAAA,KAAK,EAAE;AACL,IAAA,IAAI,EAAE;AADD,GAFM;AAKb,EAAA,KALa,iBAKP,KALO,EAKA,OALA,EAKS;AACpB,QAAI,WAAU,GAAI,KAAlB;AACA,QAAI,MAAK,GAAG,EAAZ;AACA,QAAI,MAAK,GAAI,IAAb;AACA,QAAM,KAAI,GAAI,GAAG,CAAC,EAAD,CAAjB;AACA,QAAM,OAAM,GAAI,QAAQ,CAAC,YAAK;AAC5B,UAAM,OAAM,GAAI,EAAhB;;AACA,WAAK,IAAI,CAAT,IAAc,KAAK,CAAC,IAApB,EAA0B;AACxB,QAAA,OAAO,CAAC,IAAR,CAAa,CAAb;AACF;;AACA,aAAO,OAAP;AACD,KANuB,CAAxB;AAOA,IAAA,SAAS,CAAC,YAAM;AACd,MAAA,MAAK,GAAI,KAAK,CAAC,KAAN,CAAY,GAAZ,EAAiB,SAA1B;AACD,KAFQ,CAAT;;AAIA,aAAS,WAAT,CAAsB,CAAtB,EAAyB;AACvB,MAAA,OAAO,CAAC,IAAR,CAAa,QAAb,EAAuB,CAAC,CAAC,MAAF,CAAS,SAAhC;AACF;;AACA,aAAS,gBAAT,GAA6B;AAC3B,MAAA,WAAU,GAAI,IAAd;AACF;;AACA,aAAS,eAAT,CAA0B,CAA1B,EAA6B;AAC3B,UAAI,WAAJ,EAAiB;AACf,YAAI,MAAJ,EAAY;AACV,UAAA,YAAY,CAAC,MAAD,CAAZ;AACA,UAAA,MAAK,GAAI,IAAT;AACF;;AACA,QAAA,MAAK,GAAI,UAAU,CAAC,YAAM;AACxB,cAAM,MAAK,GAAI,CAAC,CAAC,OAAF,CAAU,CAAV,EAAa,OAAb,GAAuB,EAAtC;AACA,cAAM,KAAI,GAAI,IAAI,CAAC,KAAL,CAAW,CAAC,MAAK,GAAI,MAAV,IAAoB,EAA/B,CAAd;;AACA,cAAI,KAAI,IAAK,CAAT,IAAc,KAAI,GAAI,OAAO,CAAC,KAAR,CAAc,MAAxC,EAAgD;AAC9C,YAAA,OAAO,CAAC,IAAR,CAAa,QAAb,EAAuB,OAAO,CAAC,KAAR,CAAc,KAAd,CAAvB;AACF;AACD,SANkB,EAMhB,CANgB,CAAnB;AAOF;AACF;;AACA,aAAS,cAAT,GAA2B;AACzB,WAAK,WAAL,GAAmB,KAAnB;AACF;;AACA,WAAO;AAAC,MAAA,KAAK,EAAL,KAAD;AAAQ,MAAA,OAAO,EAAP,OAAR;AAAiB,MAAA,WAAW,EAAX,WAAjB;AAA8B,MAAA,gBAAgB,EAAhB,gBAA9B;AAAgD,MAAA,eAAe,EAAf,eAAhD;AAAiE,MAAA,cAAc,EAAd;AAAjE,KAAP;AACF;AA9Ca,CAAf","sourcesContent":["<template>\n  <ul class=\"list\">\n      <li class=\"item\" v-for=\"item of letters\" :key=\"item\" :ref=\"elem => elems[item] = elem\"\n      @click=\"handleClick\"\n      @touchstart.prevent=\"handleTouchStart\"\n      @touchmove=\"handleTouchMove\"\n      @touchend=\"handleTouchEnd\">{{item}}</li>\n  </ul>\n</template>\n\n<script>\n// import BScroll from 'better-scroll'\nimport {computed, ref, onUpdated} from 'vue'\nexport default {\n  name: 'CityAlphabet',\n  props: {\n    list: Object\n  },\n  setup(props, context) {\n    let touchStatus = false\n    let startY =''\n    let timmer = null\n    const elems = ref([])\n    const letters = computed(() =>{\n      const letters = []\n      for (let i in props.list) {\n        letters.push(i)\n      }\n      return letters\n    })\n    onUpdated(() => {\n      startY = elems.value['A'].offsetTop \n    })\n\n    function handleClick (e) {\n      context.emit('change', e.target.innerText)\n    } \n    function handleTouchStart () {\n      touchStatus = true\n    }\n    function handleTouchMove (e) {\n      if (touchStatus) {\n        if (timmer) {\n          clearTimeout(timmer)\n          timmer = null\n        }\n        timmer = setTimeout(() => {\n          const touchY = e.touches[0].clientY - 63\n          const index = Math.floor((touchY - startY) / 20)\n          if (index >= 0 && index < letters.value.length) {\n            context.emit('change', letters.value[index])\n          }\n        }, 8)\n      }\n    }\n    function handleTouchEnd () {\n      this.touchStatus = false\n    }\n    return {elems, letters, handleClick, handleTouchStart, handleTouchMove, handleTouchEnd}\n  }\n}\n</script>\n\n<style scoped>\n.list{\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    position: absolute;\n    top: 1.26rem;\n    right: 0;\n    bottom: 0;\n    width: .4rem;\n}\n.item{\n  text-align: center;\n  line-height: .4rem;\n  color: #00bcd4;\n}\n</style>\n"],"sourceRoot":""}]}