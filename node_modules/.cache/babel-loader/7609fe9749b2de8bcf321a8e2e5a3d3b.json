{"remainingRequest":"/Users/frank/Desktop/travel/node_modules/thread-loader/dist/cjs.js!/Users/frank/Desktop/travel/node_modules/babel-loader/lib/index.js!/Users/frank/Desktop/travel/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/frank/Desktop/travel/node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!/Users/frank/Desktop/travel/src/pages/home/Home.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/frank/Desktop/travel/src/pages/home/Home.vue","mtime":1591105766924},{"path":"/Users/frank/Desktop/travel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frank/Desktop/travel/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frank/Desktop/travel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/frank/Desktop/travel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frank/Desktop/travel/node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2ZyYW5rL0Rlc2t0b3AvdHJhdmVsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IEhvbWVIZWFkZXIgZnJvbSAiLi9jb21wb25lbnRzL0hlYWRlci52dWUiOwppbXBvcnQgSG9tZVN3aXBlciBmcm9tICIuL2NvbXBvbmVudHMvU3dpcGVyLnZ1ZSI7CmltcG9ydCBIb21lSWNvbiBmcm9tICIuL2NvbXBvbmVudHMvSWNvbi52dWUiOwppbXBvcnQgSG9tZVJlY29tbWVuZCBmcm9tICIuL2NvbXBvbmVudHMvUmVjb21tZW5kLnZ1ZSI7CmltcG9ydCBIb21lV2Vla2VuZCBmcm9tICIuL2NvbXBvbmVudHMvV2Vla2VuZC52dWUiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgeyByZWFjdGl2ZSwgb25Nb3VudGVkIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJIb21lIiwKICBjb21wb25lbnRzOiB7CiAgICBIb21lSGVhZGVyOiBIb21lSGVhZGVyLAogICAgSG9tZVN3aXBlcjogSG9tZVN3aXBlciwKICAgIEhvbWVJY29uOiBIb21lSWNvbiwKICAgIEhvbWVSZWNvbW1lbmQ6IEhvbWVSZWNvbW1lbmQsCiAgICBIb21lV2Vla2VuZDogSG9tZVdlZWtlbmQKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBkYXRhID0gcmVhY3RpdmUoewogICAgICBzd2lwZXJMaXN0OiBbXSwKICAgICAgaWNvbkxpc3Q6IFtdLAogICAgICByZWNvbW1lbmRMaXN0OiBbXSwKICAgICAgd2Vla2VuZExpc3Q6IFtdLAogICAgICBsYXN0Q2l0eTogIiIKICAgIH0pOwogICAgdmFyIHN0b3JlID0gdXNlU3RvcmUoKTsgLy8gY29uc29sZS5sb2coc3RvcmUuc3RhdGUpCgogICAgdmFyIGNpdHkgPSBzdG9yZS5zdGF0ZS5jaXR5OwoKICAgIGZ1bmN0aW9uIGdldEhvbWVJbmZvKCkgewogICAgICByZXR1cm4gX2dldEhvbWVJbmZvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgZnVuY3Rpb24gX2dldEhvbWVJbmZvKCkgewogICAgICBfZ2V0SG9tZUluZm8gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoIi9hcGkvaW5kZXguanNvbj9jaXR5PSIgKyBjaXR5KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEucmV0ICYmIHJlcy5kYXRhLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgZGF0YS5zd2lwZXJMaXN0ID0gcmVzLmRhdGEuZGF0YS5zd2lwZXJMaXN0OwogICAgICAgICAgICAgICAgICBkYXRhLmljb25MaXN0ID0gcmVzLmRhdGEuZGF0YS5pY29uTGlzdDsKICAgICAgICAgICAgICAgICAgZGF0YS5yZWNvbW1lbmRMaXN0ID0gcmVzLmRhdGEuZGF0YS5yZWNvbW1lbmRMaXN0OwogICAgICAgICAgICAgICAgICBkYXRhLndlZWtlbmRMaXN0ID0gcmVzLmRhdGEuZGF0YS53ZWVrZW5kTGlzdDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKICAgICAgcmV0dXJuIF9nZXRIb21lSW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIG9uTW91bnRlZChmdW5jdGlvbiAoKSB7CiAgICAgIGdldEhvbWVJbmZvKCk7CiAgICB9KTsKICAgIHJldHVybiB7CiAgICAgIGRhdGE6IGRhdGEKICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["/Users/frank/Desktop/travel/src/pages/home/Home.vue"],"names":[],"mappings":";;AAWA,OAAO,UAAP,MAAuB,yBAAvB;AACA,OAAO,UAAP,MAAuB,yBAAvB;AACA,OAAO,QAAP,MAAqB,uBAArB;AACA,OAAO,aAAP,MAA0B,4BAA1B;AACA,OAAO,WAAP,MAAwB,0BAAxB;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,QAAT,EAAmB,SAAnB,QAAoC,KAApC;AACA,SAAS,QAAT,QAAyB,MAAzB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,MADO;AAEb,EAAA,UAAU,EAAE;AACV,IAAA,UAAU,EAAV,UADU;AAEV,IAAA,UAAU,EAAV,UAFU;AAGV,IAAA,QAAQ,EAAR,QAHU;AAIV,IAAA,aAAa,EAAb,aAJU;AAKV,IAAA,WAAU,EAAV;AALU,GAFC;AASb,EAAA,KATa,mBASL;AACN,QAAM,IAAG,GAAI,QAAQ,CAAC;AACpB,MAAA,UAAU,EAAE,EADQ;AAEpB,MAAA,QAAQ,EAAE,EAFU;AAGpB,MAAA,aAAa,EAAE,EAHK;AAIpB,MAAA,WAAW,EAAE,EAJO;AAKpB,MAAA,QAAQ,EAAE;AALU,KAAD,CAArB;AAOA,QAAM,KAAI,GAAI,QAAQ,EAAtB,CARM,CASN;;AACA,QAAM,IAAG,GAAI,KAAK,CAAC,KAAN,CAAY,IAAzB;;AAVM,aAYS,WAZT;AAAA;AAAA;;AAAA;AAAA,6EAYN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEkB,KAAK,CAAC,GAAN,CAAU,0BAA0B,IAApC,CAFlB;;AAAA;AAEM,gBAAA,GAFN;;AAGE,oBAAI,GAAG,CAAC,IAAJ,CAAS,GAAT,IAAgB,GAAG,CAAC,IAAJ,CAAS,IAA7B,EAAmC;AACjC,kBAAA,IAAI,CAAC,UAAL,GAAkB,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,UAAhC;AACA,kBAAA,IAAI,CAAC,QAAL,GAAgB,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,QAA9B;AACA,kBAAA,IAAI,CAAC,aAAL,GAAqB,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,aAAnC;AACA,kBAAA,IAAI,CAAC,WAAL,GAAmB,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,WAAjC;AACF;;AARF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAZM;AAAA;AAAA;;AAsBN,IAAA,SAAS,CAAC,YAAM;AACd,MAAA,WAAW;AACZ,KAFQ,CAAT;AAIA,WAAO;AAAE,MAAA,IAAG,EAAH;AAAF,KAAP;AACF;AApCa,CAAf","sourcesContent":["<template>\n  <div>\n    <HomeHeader></HomeHeader>\n    <HomeSwiper :list=\"data.swiperList\"></HomeSwiper>\n    <HomeIcon :list=\"data.iconList\"></HomeIcon>\n    <HomeRecommend :list=\"data.recommendList\"></HomeRecommend>\n    <HomeWeekend :list=\"data.weekendList\"></HomeWeekend>\n  </div>\n</template>\n\n<script>\nimport HomeHeader from \"./components/Header.vue\";\nimport HomeSwiper from \"./components/Swiper.vue\";\nimport HomeIcon from \"./components/Icon.vue\";\nimport HomeRecommend from \"./components/Recommend.vue\";\nimport HomeWeekend from \"./components/Weekend.vue\";\nimport axios from \"axios\";\nimport { reactive, onMounted } from \"vue\";\nimport { useStore } from \"vuex\";\n\nexport default {\n  name: \"Home\",\n  components: {\n    HomeHeader,\n    HomeSwiper,\n    HomeIcon,\n    HomeRecommend,\n    HomeWeekend\n  },\n  setup() {\n    const data = reactive({\n      swiperList: [],\n      iconList: [],\n      recommendList: [],\n      weekendList: [],\n      lastCity: \"\"\n    })\n    const store = useStore()\n    // console.log(store.state)\n    const city = store.state.city\n\n    async function getHomeInfo() {\n      // axios.get(\"/api/index.json?city=\" + city.value).then(getHomeInfoSucc);\n      let res = await axios.get(\"/api/index.json?city=\" + city)\n      if (res.data.ret && res.data.data) {\n        data.swiperList = res.data.data.swiperList\n        data.iconList = res.data.data.iconList\n        data.recommendList = res.data.data.recommendList\n        data.weekendList = res.data.data.weekendList\n      }\n    }\n    onMounted(() => { \n      getHomeInfo()\n    })\n\n    return { data }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n"],"sourceRoot":""}]}