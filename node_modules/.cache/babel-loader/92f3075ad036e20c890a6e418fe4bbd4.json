{"remainingRequest":"/Users/frank/Documents/GitHub/travel-vue3/node_modules/babel-loader/lib/index.js!/Users/frank/Documents/GitHub/travel-vue3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/frank/Documents/GitHub/travel-vue3/node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!/Users/frank/Documents/GitHub/travel-vue3/src/pages/city/components/List.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/frank/Documents/GitHub/travel-vue3/src/pages/city/components/List.vue","mtime":1594473395061},{"path":"/Users/frank/Documents/GitHub/travel-vue3/node_modules/cache-loader/dist/cjs.js","mtime":1594473392680},{"path":"/Users/frank/Documents/GitHub/travel-vue3/node_modules/babel-loader/lib/index.js","mtime":1594473392373},{"path":"/Users/frank/Documents/GitHub/travel-vue3/node_modules/cache-loader/dist/cjs.js","mtime":1594473392680},{"path":"/Users/frank/Documents/GitHub/travel-vue3/node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js","mtime":1594473394874}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgb25Nb3VudGVkLCB3YXRjaCwgcmVmIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCBCU2Nyb2xsIGZyb20gJ2JldHRlci1zY3JvbGwnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NpdHlMaXN0JywKICBwcm9wczogewogICAgbGlzdDE6IEFycmF5LAogICAgbGlzdDI6IE9iamVjdCwKICAgIGxldHRlcjogU3RyaW5nCiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMpIHsKICAgIHZhciBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICB2YXIgcm91dGVyID0gdXNlUm91dGVyKCk7CiAgICB2YXIgY3VycmVudHlDaXR5ID0gc3RvcmUuc3RhdGUuY2l0eTsKICAgIHZhciB3cmFwcGVyID0gcmVmKG51bGwpOwogICAgdmFyIGVsZW1zID0gcmVmKHt9KTsKCiAgICBmdW5jdGlvbiBoYW5kbGVDaXR5Q2xpY2soY2l0eSkgewogICAgICBzdG9yZS5jb21taXQoJ2NoYW5nZUNpdHknLCBjaXR5KTsKICAgICAgcm91dGVyLnB1c2goJy8nKTsKICAgIH0KCiAgICB3YXRjaChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBwcm9wcy5sZXR0ZXI7CiAgICB9LCBmdW5jdGlvbiAobGV0dGVyLCBwcmV2TGV0dGVyKSB7CiAgICAgIGlmIChsZXR0ZXIgJiYgc2Nyb2xsKSB7CiAgICAgICAgdmFyIGVsZW1lbnQgPSBlbGVtcy52YWx1ZVtsZXR0ZXJdOwogICAgICAgIHNjcm9sbC5zY3JvbGxUb0VsZW1lbnQoZWxlbWVudCk7CiAgICAgIH0KICAgIH0pOwogICAgb25Nb3VudGVkKGZ1bmN0aW9uICgpIHsKICAgICAgc2Nyb2xsID0gbmV3IEJTY3JvbGwod3JhcHBlci52YWx1ZSwgewogICAgICAgIGNsaWNrOiB0cnVlCiAgICAgIH0pOwogICAgfSk7CiAgICByZXR1cm4gewogICAgICBlbGVtczogZWxlbXMsCiAgICAgIHdyYXBwZXI6IHdyYXBwZXIsCiAgICAgIGN1cnJlbnR5Q2l0eTogY3VycmVudHlDaXR5LAogICAgICBoYW5kbGVDaXR5Q2xpY2s6IGhhbmRsZUNpdHlDbGljawogICAgfTsKICB9Cn07"},{"version":3,"sources":["/Users/frank/Documents/GitHub/travel-vue3/src/pages/city/components/List.vue"],"names":[],"mappings":"AA6BA,SAAQ,QAAR,QAAuB,MAAvB;AACA,SAAQ,SAAR,EAAmB,KAAnB,EAA0B,GAA1B,QAAoC,KAApC;AACA,SAAQ,SAAR,QAAwB,YAAxB;AACA,OAAO,OAAP,MAAoB,eAApB;AACA,eAAe;AACb,EAAA,IAAI,EAAE,UADO;AAEb,EAAA,KAAK,EAAE;AACL,IAAA,KAAK,EAAE,KADF;AAEL,IAAA,KAAK,EAAE,MAFF;AAGL,IAAA,MAAM,EAAE;AAHH,GAFM;AAOb,EAAA,KAPa,iBAOP,KAPO,EAOA;AACX,QAAM,KAAI,GAAI,QAAQ,EAAtB;AACA,QAAM,MAAK,GAAI,SAAS,EAAxB;AACA,QAAM,YAAW,GAAI,KAAK,CAAC,KAAN,CAAY,IAAjC;AACA,QAAM,OAAM,GAAI,GAAG,CAAC,IAAD,CAAnB;AACA,QAAM,KAAI,GAAI,GAAG,CAAC,EAAD,CAAjB;;AACA,aAAS,eAAT,CAA0B,IAA1B,EAAgC;AAC9B,MAAA,KAAK,CAAC,MAAN,CAAa,YAAb,EAA2B,IAA3B;AACA,MAAA,MAAM,CAAC,IAAP,CAAY,GAAZ;AACF;;AACF,IAAA,KAAK,CAAC;AAAA,aAAM,KAAK,CAAC,MAAZ;AAAA,KAAD,EAAoB,UAAC,MAAD,EAAQ,UAAR,EAAuB;AAC9C,UAAI,MAAK,IAAK,MAAd,EAAsB;AACpB,YAAM,OAAM,GAAI,KAAK,CAAC,KAAN,CAAY,MAAZ,CAAhB;AACA,QAAA,MAAM,CAAC,eAAP,CAAuB,OAAvB;AACF;AACD,KALI,CAAL;AAMA,IAAA,SAAS,CAAC,YAAK;AACb,MAAA,MAAK,GAAI,IAAI,OAAJ,CAAY,OAAO,CAAC,KAApB,EAA2B;AAAC,QAAA,KAAK,EAAE;AAAR,OAA3B,CAAT;AACD,KAFQ,CAAT;AAGA,WAAO;AAAC,MAAA,KAAK,EAAL,KAAD;AAAQ,MAAA,OAAO,EAAP,OAAR;AAAiB,MAAA,YAAY,EAAZ,YAAjB;AAA+B,MAAA,eAAe,EAAf;AAA/B,KAAP;AACA;AA3Ba,CAAf","sourcesContent":["<template>\n    <div class=\"list\" ref=\"wrapper\">\n        <div>\n            <div class=\"area\">\n            <div class=\"title border-bottom\">当前城市</div>\n            <div class=\"button-list\">\n                <div class=\"button-wrapper\">\n                    <div class=\"button\">{{currentyCity}}</div>\n                </div>\n            </div>\n        </div>\n        <div class=\"area\">\n            <div class=\"title border-bottom\">热门城市</div>\n            <div class=\"button-list\">\n                <div class=\"button-wrapper\" v-for=\"item of list1\" :key=\"item.id\" @click=\"handleCityClick(item.name)\">\n                    <div class=\"button\">{{item.name}}</div>\n                </div>\n            </div>\n        </div>\n        <div class=\"area\" v-for=\"(item,key) of list2\" :key=\"item.key\" :ref=\"elem => elems[key] = elem\">\n            <div class=\"title border-topbottom\">{{key}}</div>\n                <div class=\"item border-topbottom\" v-for=\"innerItem of item\" :key=\"innerItem.id\"\n                @click=\"handleCityClick(innerItem.name)\">{{innerItem.name}}</div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport {useStore} from 'vuex'\nimport {onMounted, watch, ref} from 'vue'\nimport {useRouter} from 'vue-router'\nimport BScroll from 'better-scroll'\nexport default {\n  name: 'CityList',\n  props: {\n    list1: Array,\n    list2: Object,\n    letter: String\n  },\n  setup(props) {\n    const store = useStore()\n    const router = useRouter()\n    const currentyCity = store.state.city\n    const wrapper = ref(null)\n    const elems = ref({})\n    function handleCityClick (city) {\n      store.commit('changeCity', city)\n      router.push('/')\n    }\n  watch(() => props.letter,(letter,prevLetter) => {\n    if (letter && scroll) {\n      const element = elems.value[letter]\n      scroll.scrollToElement(element)\n    }\n  })\n  onMounted(() =>{\n    scroll = new BScroll(wrapper.value, {click: true})\n  })\n  return {elems, wrapper, currentyCity, handleCityClick}\n  }\n}\n</script>\n\n<style scoped>\n.list{\n    position: absolute;\n    overflow: hidden;\n    top: 1.26rem;\n    left: 0;\n    right: 0;\n    bottom: 0;\n}\n.title{\n    line-height: .44rem;\n    background: #eee;\n    padding-left: .2rem;\n    color: #666;\n}\n.button-list{\n    overflow: hidden;\n    padding: .1rem .4rem;\n}\n.button-wrapper{\n    width: 33.3%;\n    float: left;\n}\n.button{\n    margin: .1rem;\n    padding: .08rem 0;\n    border: .02rem solid #00bcd4;\n    border-radius: .05rem;\n    text-align: center;\n    font-size: .26rem;\n}\n.item{\n    padding: .1rem .2rem;\n    font-size: .26rem;\n}\n</style>\n"],"sourceRoot":""}]}