{"remainingRequest":"/Users/frank/Documents/GitHub/travel-vue3/node_modules/thread-loader/dist/cjs.js!/Users/frank/Documents/GitHub/travel-vue3/node_modules/babel-loader/lib/index.js!/Users/frank/Documents/GitHub/travel-vue3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/frank/Documents/GitHub/travel-vue3/node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!/Users/frank/Documents/GitHub/travel-vue3/src/pages/home/Home.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/frank/Documents/GitHub/travel-vue3/src/pages/home/Home.vue","mtime":1594504523720},{"path":"/Users/frank/Documents/GitHub/travel-vue3/node_modules/cache-loader/dist/cjs.js","mtime":1594473392680},{"path":"/Users/frank/Documents/GitHub/travel-vue3/node_modules/thread-loader/dist/cjs.js","mtime":1594473394786},{"path":"/Users/frank/Documents/GitHub/travel-vue3/node_modules/babel-loader/lib/index.js","mtime":1594473392373},{"path":"/Users/frank/Documents/GitHub/travel-vue3/node_modules/cache-loader/dist/cjs.js","mtime":1594473392680},{"path":"/Users/frank/Documents/GitHub/travel-vue3/node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js","mtime":1594473394874}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2ZyYW5rL0RvY3VtZW50cy9HaXRIdWIvdHJhdmVsLXZ1ZTMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgSG9tZUhlYWRlciBmcm9tICIuL2NvbXBvbmVudHMvSGVhZGVyLnZ1ZSI7CmltcG9ydCBIb21lU3dpcGVyIGZyb20gIi4vY29tcG9uZW50cy9Td2lwZXIudnVlIjsKaW1wb3J0IEhvbWVJY29uIGZyb20gIi4vY29tcG9uZW50cy9JY29uLnZ1ZSI7CmltcG9ydCBIb21lUmVjb21tZW5kIGZyb20gIi4vY29tcG9uZW50cy9SZWNvbW1lbmQudnVlIjsKaW1wb3J0IEhvbWVXZWVrZW5kIGZyb20gIi4vY29tcG9uZW50cy9XZWVrZW5kLnZ1ZSI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IHJlYWN0aXZlLCBvbk1vdW50ZWQgfSBmcm9tICJ2dWUiOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhvbWUiLAogIGNvbXBvbmVudHM6IHsKICAgIEhvbWVIZWFkZXI6IEhvbWVIZWFkZXIsCiAgICBIb21lU3dpcGVyOiBIb21lU3dpcGVyLAogICAgSG9tZUljb246IEhvbWVJY29uLAogICAgSG9tZVJlY29tbWVuZDogSG9tZVJlY29tbWVuZCwKICAgIEhvbWVXZWVrZW5kOiBIb21lV2Vla2VuZAogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIGRhdGEgPSByZWFjdGl2ZSh7CiAgICAgIHN3aXBlckxpc3Q6IFtdLAogICAgICBpY29uTGlzdDogW10sCiAgICAgIHJlY29tbWVuZExpc3Q6IFtdLAogICAgICB3ZWVrZW5kTGlzdDogW10sCiAgICAgIGxhc3RDaXR5OiAiIgogICAgfSk7CiAgICB2YXIgc3RvcmUgPSB1c2VTdG9yZSgpOyAvLyBjb25zb2xlLmxvZyhzdG9yZS5zdGF0ZSkKCiAgICB2YXIgY2l0eSA9IHN0b3JlLnN0YXRlLmNpdHk7CgogICAgZnVuY3Rpb24gZ2V0SG9tZUluZm8oKSB7CiAgICAgIHJldHVybiBfZ2V0SG9tZUluZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfZ2V0SG9tZUluZm8oKSB7CiAgICAgIF9nZXRIb21lSW5mbyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiL2FwaS9pbmRleC5qc29uP2NpdHk9IiArIGNpdHkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5yZXQgJiYgcmVzLmRhdGEuZGF0YSkgewogICAgICAgICAgICAgICAgICBkYXRhLnN3aXBlckxpc3QgPSByZXMuZGF0YS5kYXRhLnN3aXBlckxpc3Q7CiAgICAgICAgICAgICAgICAgIGRhdGEuaWNvbkxpc3QgPSByZXMuZGF0YS5kYXRhLmljb25MaXN0OwogICAgICAgICAgICAgICAgICBkYXRhLnJlY29tbWVuZExpc3QgPSByZXMuZGF0YS5kYXRhLnJlY29tbWVuZExpc3Q7CiAgICAgICAgICAgICAgICAgIGRhdGEud2Vla2VuZExpc3QgPSByZXMuZGF0YS5kYXRhLndlZWtlbmRMaXN0OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwogICAgICByZXR1cm4gX2dldEhvbWVJbmZvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgb25Nb3VudGVkKGZ1bmN0aW9uICgpIHsKICAgICAgZ2V0SG9tZUluZm8oKTsKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgZGF0YTogZGF0YQogICAgfTsKICB9Cn07"},{"version":3,"sources":["/Users/frank/Documents/GitHub/travel-vue3/src/pages/home/Home.vue"],"names":[],"mappings":";;AAWA,OAAO,UAAP,MAAuB,yBAAvB;AACA,OAAO,UAAP,MAAuB,yBAAvB;AACA,OAAO,QAAP,MAAqB,uBAArB;AACA,OAAO,aAAP,MAA0B,4BAA1B;AACA,OAAO,WAAP,MAAwB,0BAAxB;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,QAAT,EAAmB,SAAnB,QAAoC,KAApC;AACA,SAAS,QAAT,QAAyB,MAAzB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,MADO;AAEb,EAAA,UAAU,EAAE;AACV,IAAA,UAAU,EAAV,UADU;AAEV,IAAA,UAAU,EAAV,UAFU;AAGV,IAAA,QAAQ,EAAR,QAHU;AAIV,IAAA,aAAa,EAAb,aAJU;AAKV,IAAA,WAAU,EAAV;AALU,GAFC;AASb,EAAA,KATa,mBASL;AACN,QAAM,IAAG,GAAI,QAAQ,CAAC;AACpB,MAAA,UAAU,EAAE,EADQ;AAEpB,MAAA,QAAQ,EAAE,EAFU;AAGpB,MAAA,aAAa,EAAE,EAHK;AAIpB,MAAA,WAAW,EAAE,EAJO;AAKpB,MAAA,QAAQ,EAAE;AALU,KAAD,CAArB;AAOA,QAAM,KAAI,GAAI,QAAQ,EAAtB,CARM,CASN;;AACA,QAAM,IAAG,GAAI,KAAK,CAAC,KAAN,CAAY,IAAzB;;AAVM,aAYS,WAZT;AAAA;AAAA;;AAAA;AAAA,6EAYN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEkB,KAAK,CAAC,GAAN,CAAU,0BAA0B,IAApC,CAFlB;;AAAA;AAEM,gBAAA,GAFN;;AAGE,oBAAI,GAAG,CAAC,IAAJ,CAAS,GAAT,IAAgB,GAAG,CAAC,IAAJ,CAAS,IAA7B,EAAmC;AACjC,kBAAA,IAAI,CAAC,UAAL,GAAkB,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,UAAhC;AACA,kBAAA,IAAI,CAAC,QAAL,GAAgB,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,QAA9B;AACA,kBAAA,IAAI,CAAC,aAAL,GAAqB,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,aAAnC;AACA,kBAAA,IAAI,CAAC,WAAL,GAAmB,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,WAAjC;AACF;;AARF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAZM;AAAA;AAAA;;AAsBN,IAAA,SAAS,CAAC,YAAM;AACd,MAAA,WAAW;AACZ,KAFQ,CAAT;AAIA,WAAO;AAAE,MAAA,IAAG,EAAH;AAAF,KAAP;AACF;AApCa,CAAf","sourcesContent":["<template>\n  <div>\n    <HomeHeader></HomeHeader>\n    <HomeSwiper :list=\"data.swiperList\"></HomeSwiper>\n    <HomeIcon :list=\"data.iconList\"></HomeIcon>\n    <HomeRecommend :list=\"data.recommendList\"></HomeRecommend>\n    <HomeWeekend :list=\"data.weekendList\"></HomeWeekend>\n  </div>\n</template>\n\n<script>\nimport HomeHeader from \"./components/Header.vue\";\nimport HomeSwiper from \"./components/Swiper.vue\";\nimport HomeIcon from \"./components/Icon.vue\";\nimport HomeRecommend from \"./components/Recommend.vue\";\nimport HomeWeekend from \"./components/Weekend.vue\";\nimport axios from \"axios\";\nimport { reactive, onMounted } from \"vue\";\nimport { useStore } from \"vuex\";\n\nexport default {\n  name: \"Home\",\n  components: {\n    HomeHeader,\n    HomeSwiper,\n    HomeIcon,\n    HomeRecommend,\n    HomeWeekend\n  },\n  setup() {\n    const data = reactive({\n      swiperList: [],\n      iconList: [],\n      recommendList: [],\n      weekendList: [],\n      lastCity: \"\"\n    })\n    const store = useStore()\n    // console.log(store.state)\n    const city = store.state.city\n\n    async function getHomeInfo() {\n      // axios.get(\"/api/index.json?city=\" + city.value).then(getHomeInfoSucc);\n      let res = await axios.get(\"/api/index.json?city=\" + city)\n      if (res.data.ret && res.data.data) {\n        data.swiperList = res.data.data.swiperList\n        data.iconList = res.data.data.iconList\n        data.recommendList = res.data.data.recommendList\n        data.weekendList = res.data.data.weekendList\n      }\n    }\n    onMounted(() => { \n      getHomeInfo()\n    })\n\n    return { data }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n"],"sourceRoot":""}]}