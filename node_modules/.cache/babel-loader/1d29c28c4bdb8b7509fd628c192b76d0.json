{"remainingRequest":"/Users/frank/Desktop/project-demo/travel/node_modules/babel-loader/lib/index.js!/Users/frank/Desktop/project-demo/travel/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/frank/Desktop/project-demo/travel/node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!/Users/frank/Desktop/project-demo/travel/src/pages/home/Home.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/frank/Desktop/project-demo/travel/src/pages/home/Home.vue","mtime":1594438060450},{"path":"/Users/frank/Desktop/project-demo/travel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frank/Desktop/project-demo/travel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/frank/Desktop/project-demo/travel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frank/Desktop/project-demo/travel/node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2ZyYW5rL0Rlc2t0b3AvcHJvamVjdC1kZW1vL3RyYXZlbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBIb21lSGVhZGVyIGZyb20gIi4vY29tcG9uZW50cy9IZWFkZXIudnVlIjsKaW1wb3J0IEhvbWVTd2lwZXIgZnJvbSAiLi9jb21wb25lbnRzL1N3aXBlci52dWUiOwppbXBvcnQgSG9tZUljb24gZnJvbSAiLi9jb21wb25lbnRzL0ljb24udnVlIjsKaW1wb3J0IEhvbWVSZWNvbW1lbmQgZnJvbSAiLi9jb21wb25lbnRzL1JlY29tbWVuZC52dWUiOwppbXBvcnQgSG9tZVdlZWtlbmQgZnJvbSAiLi9jb21wb25lbnRzL1dlZWtlbmQudnVlIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgcmVhY3RpdmUsIG9uTW91bnRlZCB9IGZyb20gInZ1ZSI7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSG9tZSIsCiAgY29tcG9uZW50czogewogICAgSG9tZUhlYWRlcjogSG9tZUhlYWRlciwKICAgIEhvbWVTd2lwZXI6IEhvbWVTd2lwZXIsCiAgICBIb21lSWNvbjogSG9tZUljb24sCiAgICBIb21lUmVjb21tZW5kOiBIb21lUmVjb21tZW5kLAogICAgSG9tZVdlZWtlbmQ6IEhvbWVXZWVrZW5kCiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgZGF0YSA9IHJlYWN0aXZlKHsKICAgICAgc3dpcGVyTGlzdDogW10sCiAgICAgIGljb25MaXN0OiBbXSwKICAgICAgcmVjb21tZW5kTGlzdDogW10sCiAgICAgIHdlZWtlbmRMaXN0OiBbXSwKICAgICAgbGFzdENpdHk6ICIiCiAgICB9KTsKICAgIHZhciBzdG9yZSA9IHVzZVN0b3JlKCk7IC8vIGNvbnNvbGUubG9nKHN0b3JlLnN0YXRlKQoKICAgIHZhciBjaXR5ID0gc3RvcmUuc3RhdGUuY2l0eTsKCiAgICBmdW5jdGlvbiBnZXRIb21lSW5mbygpIHsKICAgICAgcmV0dXJuIF9nZXRIb21lSW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIGZ1bmN0aW9uIF9nZXRIb21lSW5mbygpIHsKICAgICAgX2dldEhvbWVJbmZvID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpL2luZGV4Lmpzb24/Y2l0eT0iICsgY2l0eSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnJldCAmJiByZXMuZGF0YS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgIGRhdGEuc3dpcGVyTGlzdCA9IHJlcy5kYXRhLmRhdGEuc3dpcGVyTGlzdDsKICAgICAgICAgICAgICAgICAgZGF0YS5pY29uTGlzdCA9IHJlcy5kYXRhLmRhdGEuaWNvbkxpc3Q7CiAgICAgICAgICAgICAgICAgIGRhdGEucmVjb21tZW5kTGlzdCA9IHJlcy5kYXRhLmRhdGEucmVjb21tZW5kTGlzdDsKICAgICAgICAgICAgICAgICAgZGF0YS53ZWVrZW5kTGlzdCA9IHJlcy5kYXRhLmRhdGEud2Vla2VuZExpc3Q7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CiAgICAgIHJldHVybiBfZ2V0SG9tZUluZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICBvbk1vdW50ZWQoZnVuY3Rpb24gKCkgewogICAgICBnZXRIb21lSW5mbygpOwogICAgfSk7CiAgICByZXR1cm4gewogICAgICBkYXRhOiBkYXRhCiAgICB9OwogIH0KfTs="},{"version":3,"sources":["/Users/frank/Desktop/project-demo/travel/src/pages/home/Home.vue"],"names":[],"mappings":";;AAWA,OAAO,UAAP,MAAuB,yBAAvB;AACA,OAAO,UAAP,MAAuB,yBAAvB;AACA,OAAO,QAAP,MAAqB,uBAArB;AACA,OAAO,aAAP,MAA0B,4BAA1B;AACA,OAAO,WAAP,MAAwB,0BAAxB;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,QAAT,EAAmB,SAAnB,QAAoC,KAApC;AACA,SAAS,QAAT,QAAyB,MAAzB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,MADO;AAEb,EAAA,UAAU,EAAE;AACV,IAAA,UAAU,EAAV,UADU;AAEV,IAAA,UAAU,EAAV,UAFU;AAGV,IAAA,QAAQ,EAAR,QAHU;AAIV,IAAA,aAAa,EAAb,aAJU;AAKV,IAAA,WAAU,EAAV;AALU,GAFC;AASb,EAAA,KATa,mBASL;AACN,QAAM,IAAG,GAAI,QAAQ,CAAC;AACpB,MAAA,UAAU,EAAE,EADQ;AAEpB,MAAA,QAAQ,EAAE,EAFU;AAGpB,MAAA,aAAa,EAAE,EAHK;AAIpB,MAAA,WAAW,EAAE,EAJO;AAKpB,MAAA,QAAQ,EAAE;AALU,KAAD,CAArB;AAOA,QAAM,KAAI,GAAI,QAAQ,EAAtB,CARM,CASN;;AACA,QAAM,IAAG,GAAI,KAAK,CAAC,KAAN,CAAY,IAAzB;;AAVM,aAYS,WAZT;AAAA;AAAA;;AAAA;AAAA,6EAYN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEkB,KAAK,CAAC,GAAN,CAAU,+CAA+C,IAAzD,CAFlB;;AAAA;AAEM,gBAAA,GAFN;;AAGE,oBAAI,GAAG,CAAC,IAAJ,CAAS,GAAT,IAAgB,GAAG,CAAC,IAAJ,CAAS,IAA7B,EAAmC;AACjC,kBAAA,IAAI,CAAC,UAAL,GAAkB,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,UAAhC;AACA,kBAAA,IAAI,CAAC,QAAL,GAAgB,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,QAA9B;AACA,kBAAA,IAAI,CAAC,aAAL,GAAqB,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,aAAnC;AACA,kBAAA,IAAI,CAAC,WAAL,GAAmB,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,WAAjC;AACF;;AARF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAZM;AAAA;AAAA;;AAsBN,IAAA,SAAS,CAAC,YAAM;AACd,MAAA,WAAW;AACZ,KAFQ,CAAT;AAIA,WAAO;AAAE,MAAA,IAAG,EAAH;AAAF,KAAP;AACF;AApCa,CAAf","sourcesContent":["<template>\n  <div>\n    <HomeHeader></HomeHeader>\n    <HomeSwiper :list=\"data.swiperList\"></HomeSwiper>\n    <HomeIcon :list=\"data.iconList\"></HomeIcon>\n    <HomeRecommend :list=\"data.recommendList\"></HomeRecommend>\n    <HomeWeekend :list=\"data.weekendList\"></HomeWeekend>\n  </div>\n</template>\n\n<script>\nimport HomeHeader from \"./components/Header.vue\";\nimport HomeSwiper from \"./components/Swiper.vue\";\nimport HomeIcon from \"./components/Icon.vue\";\nimport HomeRecommend from \"./components/Recommend.vue\";\nimport HomeWeekend from \"./components/Weekend.vue\";\nimport axios from \"axios\";\nimport { reactive, onMounted } from \"vue\";\nimport { useStore } from \"vuex\";\n\nexport default {\n  name: \"Home\",\n  components: {\n    HomeHeader,\n    HomeSwiper,\n    HomeIcon,\n    HomeRecommend,\n    HomeWeekend\n  },\n  setup() {\n    const data = reactive({\n      swiperList: [],\n      iconList: [],\n      recommendList: [],\n      weekendList: [],\n      lastCity: \"\"\n    })\n    const store = useStore()\n    // console.log(store.state)\n    const city = store.state.city\n\n    async function getHomeInfo() {\n      // axios.get(\"/api/index.json?city=\" + city.value).then(getHomeInfoSucc);\n      let res = await axios.get(\"http://localhost:8080/api/index.json?city=\" + city)\n      if (res.data.ret && res.data.data) {\n        data.swiperList = res.data.data.swiperList\n        data.iconList = res.data.data.iconList\n        data.recommendList = res.data.data.recommendList\n        data.weekendList = res.data.data.weekendList\n      }\n    }\n    onMounted(() => { \n      getHomeInfo()\n    })\n\n    return { data }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n"],"sourceRoot":""}]}