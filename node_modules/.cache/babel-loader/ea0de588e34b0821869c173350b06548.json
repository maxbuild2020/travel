{"remainingRequest":"/Users/frank/Documents/GitHub/travel-vue3/node_modules/babel-loader/lib/index.js!/Users/frank/Documents/GitHub/travel-vue3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/frank/Documents/GitHub/travel-vue3/node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!/Users/frank/Documents/GitHub/travel-vue3/src/pages/city/City.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/frank/Documents/GitHub/travel-vue3/src/pages/city/City.vue","mtime":1594504659973},{"path":"/Users/frank/Documents/GitHub/travel-vue3/node_modules/cache-loader/dist/cjs.js","mtime":1594473392680},{"path":"/Users/frank/Documents/GitHub/travel-vue3/node_modules/babel-loader/lib/index.js","mtime":1594473392373},{"path":"/Users/frank/Documents/GitHub/travel-vue3/node_modules/cache-loader/dist/cjs.js","mtime":1594473392680},{"path":"/Users/frank/Documents/GitHub/travel-vue3/node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js","mtime":1594473394874}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2ZyYW5rL0RvY3VtZW50cy9HaXRIdWIvdHJhdmVsLXZ1ZTMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgQ2l0eUhlYWRlciBmcm9tICcuL2NvbXBvbmVudHMvSGVhZGVyLnZ1ZSc7CmltcG9ydCBDaXR5U2VhcmNoIGZyb20gJy4vY29tcG9uZW50cy9TZWFyY2gudnVlJzsKaW1wb3J0IENpdHlMaXN0IGZyb20gJy4vY29tcG9uZW50cy9MaXN0LnZ1ZSc7CmltcG9ydCBDaXR5QWxwaGFiZXQgZnJvbSAnLi9jb21wb25lbnRzL0FscGhhYmV0LnZ1ZSc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IG9uTW91bnRlZCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHJlYWN0aXZlLCByZWYgfSBmcm9tICd2dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NpdHknLAogIGNvbXBvbmVudHM6IHsKICAgIENpdHlIZWFkZXI6IENpdHlIZWFkZXIsCiAgICBDaXR5U2VhcmNoOiBDaXR5U2VhcmNoLAogICAgQ2l0eUxpc3Q6IENpdHlMaXN0LAogICAgQ2l0eUFscGhhYmV0OiBDaXR5QWxwaGFiZXQKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBfdXNlTGV0dGVyTG9naWMgPSB1c2VMZXR0ZXJMb2dpYygpLAogICAgICAgIGxldHRlciA9IF91c2VMZXR0ZXJMb2dpYy5sZXR0ZXIsCiAgICAgICAgaGFuZGxlTGV0dGVyQ2hhbmdlID0gX3VzZUxldHRlckxvZ2ljLmhhbmRsZUxldHRlckNoYW5nZTsKCiAgICB2YXIgX3VzZUNpdHlMb2dpYyA9IHVzZUNpdHlMb2dpYygpLAogICAgICAgIGRhdGEgPSBfdXNlQ2l0eUxvZ2ljLmRhdGE7CgogICAgcmV0dXJuIHsKICAgICAgZGF0YTogZGF0YSwKICAgICAgbGV0dGVyOiBsZXR0ZXIsCiAgICAgIGhhbmRsZUxldHRlckNoYW5nZTogaGFuZGxlTGV0dGVyQ2hhbmdlCiAgICB9OwogIH0KfTsKCmZ1bmN0aW9uIHVzZUxldHRlckxvZ2ljKCkgewogIHZhciBsZXR0ZXIgPSByZWYoJycpOwoKICBmdW5jdGlvbiBoYW5kbGVMZXR0ZXJDaGFuZ2Uoc2VsZWN0ZWQpIHsKICAgIGxldHRlci52YWx1ZSA9IHNlbGVjdGVkOwogIH0KCiAgcmV0dXJuIHsKICAgIGxldHRlcjogbGV0dGVyLAogICAgaGFuZGxlTGV0dGVyQ2hhbmdlOiBoYW5kbGVMZXR0ZXJDaGFuZ2UKICB9Owp9CgpmdW5jdGlvbiB1c2VDaXR5TG9naWMoKSB7CiAgdmFyIGRhdGEgPSByZWFjdGl2ZSh7CiAgICBIb3RjaXR5OiBbXSwKICAgIENpdGllczoge30KICB9KTsKCiAgZnVuY3Rpb24gZ2V0Q2l0eWluZm8oKSB7CiAgICByZXR1cm4gX2dldENpdHlpbmZvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQoKICBmdW5jdGlvbiBfZ2V0Q2l0eWluZm8oKSB7CiAgICBfZ2V0Q2l0eWluZm8gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciByZXM7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCcvYXBpL2NpdHkuanNvbicpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5yZXQgJiYgcmVzLmRhdGEuZGF0YSkgewogICAgICAgICAgICAgICAgZGF0YS5Ib3RjaXR5ID0gcmVzLmRhdGEuZGF0YS5ob3RDaXRpZXM7CiAgICAgICAgICAgICAgICBkYXRhLkNpdGllcyA9IHJlcy5kYXRhLmRhdGEuY2l0aWVzOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSk7CiAgICByZXR1cm4gX2dldENpdHlpbmZvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQoKICBvbk1vdW50ZWQoZnVuY3Rpb24gKCkgewogICAgZ2V0Q2l0eWluZm8oKTsKICB9KTsKICByZXR1cm4gewogICAgZGF0YTogZGF0YQogIH07Cn0="},{"version":3,"sources":["/Users/frank/Documents/GitHub/travel-vue3/src/pages/city/City.vue"],"names":[],"mappings":";;AAWA,OAAO,UAAP,MAAuB,yBAAvB;AACA,OAAO,UAAP,MAAuB,yBAAvB;AACA,OAAO,QAAP,MAAqB,uBAArB;AACA,OAAO,YAAP,MAAyB,2BAAzB;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAQ,SAAR,QAAwB,KAAxB;AACA,SAAQ,QAAR,EAAkB,GAAlB,QAA4B,KAA5B;AACA,eAAe;AACb,EAAA,IAAI,EAAE,MADO;AAEb,EAAA,UAAU,EAAE;AACV,IAAA,UAAU,EAAV,UADU;AAEV,IAAA,UAAU,EAAV,UAFU;AAGV,IAAA,QAAQ,EAAR,QAHU;AAIV,IAAA,YAAW,EAAX;AAJU,GAFC;AAQb,EAAA,KARa,mBAQL;AAAA,0BAC+B,cAAc,EAD7C;AAAA,QACC,MADD,mBACC,MADD;AAAA,QACS,kBADT,mBACS,kBADT;;AAAA,wBAES,YAAY,EAFrB;AAAA,QAEC,IAFD,iBAEC,IAFD;;AAGN,WAAO;AAAC,MAAA,IAAI,EAAJ,IAAD;AAAO,MAAA,MAAM,EAAN,MAAP;AAAe,MAAA,kBAAkB,EAAlB;AAAf,KAAP;AACF;AAZa,CAAf;;AAeA,SAAS,cAAT,GAA0B;AACtB,MAAM,MAAK,GAAI,GAAG,CAAC,EAAD,CAAlB;;AACA,WAAS,kBAAT,CAA6B,QAA7B,EAAuC;AACrC,IAAA,MAAM,CAAC,KAAP,GAAe,QAAf;AACF;;AACA,SAAO;AAAC,IAAA,MAAM,EAAN,MAAD;AAAS,IAAA,kBAAkB,EAAlB;AAAT,GAAP;AACF;;AAEF,SAAS,YAAT,GAAwB;AACtB,MAAM,IAAG,GAAI,QAAQ,CAAC;AAClB,IAAA,OAAO,EAAE,EADS;AAElB,IAAA,MAAM,EAAE;AAFU,GAAD,CAArB;;AADsB,WAKP,WALO;AAAA;AAAA;;AAAA;AAAA,2EAKtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACoB,KAAK,CAAC,GAAN,CAAU,gBAAV,CADpB;;AAAA;AACQ,cAAA,GADR;;AAEI,kBAAI,GAAG,CAAC,IAAJ,CAAS,GAAT,IAAgB,GAAG,CAAC,IAAJ,CAAS,IAA7B,EAAmC;AACjC,gBAAA,IAAI,CAAC,OAAL,GAAe,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,SAA7B;AACA,gBAAA,IAAI,CAAC,MAAL,GAAc,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,MAA5B;AACF;;AALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KALsB;AAAA;AAAA;;AAYtB,EAAA,SAAS,CAAC,YAAM;AAAE,IAAA,WAAW;AAAI,GAAxB,CAAT;AACA,SAAO;AAAC,IAAA,IAAI,EAAJ;AAAD,GAAP;AACF","sourcesContent":["<template>\n    <div>\n        <CityHeader></CityHeader>\n        <CitySearch :cities=\"data.Cities\"></CitySearch>\n        <CityList :list1=\"data.Hotcity\" :list2=\"data.Cities\" :letter=\"letter\"></CityList>\n        <CityAlphabet :list=\"data.Cities\"\n        @change=\"handleLetterChange\"></CityAlphabet>\n    </div>\n</template>\n\n<script>\nimport CityHeader from './components/Header.vue'\nimport CitySearch from './components/Search.vue'\nimport CityList from './components/List.vue'\nimport CityAlphabet from './components/Alphabet.vue'\nimport axios from 'axios'\nimport {onMounted} from 'vue'\nimport {reactive, ref} from 'vue'\nexport default {\n  name: 'City',\n  components: {\n    CityHeader,\n    CitySearch,\n    CityList,\n    CityAlphabet\n  },\n  setup() {\n    const {letter, handleLetterChange} = useLetterLogic()\n    const {data} = useCityLogic()\n    return {data, letter, handleLetterChange}\n  }\n}\n\nfunction useLetterLogic() {\n    const letter = ref('')\n    function handleLetterChange (selected) {\n      letter.value = selected\n    }\n    return {letter, handleLetterChange}\n  }\n\nfunction useCityLogic() {\n  const data = reactive({\n      Hotcity: [],\n      Cities: {},\n  })\n  async function getCityinfo () {\n      let res = await axios.get('/api/city.json')\n      if (res.data.ret && res.data.data) {\n        data.Hotcity = res.data.data.hotCities\n        data.Cities = res.data.data.cities\n      }\n  }\n  onMounted(() => { getCityinfo() })\n  return {data}\n}\n</script>\n\n<style scoped>\n</style>\n"],"sourceRoot":""}]}